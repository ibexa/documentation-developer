

{% if depth == 0 %}
    {% if entry.children.count > 0 %}
        {% for child in entry.children %}
            {% include 'components/menu-entry.html.twig' with {
                title: entry.name|shortFQSEN ~ ' ' ~ child.name|shortFQSEN,
                nav_id: loop.index,
                expanded: true,
                entry: child,
            } %}
        {% endfor %}
    {% endif %}
{% else %}
    {% set index = 0 %}
    {% if entry.children.count > 0 %}
        {% if depth > 1 %}
            <label class="md-nav__list-title">
                Namespaces
            </label>
        {% endif %}
        <ul class="md-nav__list">
            {% for child in entry.children %}
                {% include 'components/menu-entry.html.twig' with {
                    title: child.name|shortFQSEN,
                    nav_id: nav_id ~ '-' ~ index,
                    entry: child,
                    expanded: false,
                    icon: 'folder.svg',
                } %}

                {% set index = index + 1 %}
            {% endfor %}
        </ul>
    {% endif %}

    {# {% if entry.interfaces %}
        {% set other_elements = entry.interfaces.merge(entry.classes).merge(entry.traits) %}
    {% elseif entry.classes %}
        {% set other_elements = entry.classes.merge(entry.traits) %}
    {% elseif entry.traits %}
        {% set other_elements = entry.traits %}
    {% endif %} #}

    {% if entry.interfaces.count > 0 or entry.classes.count > 0 or entry.traits.count > 0 %}
        {% if depth > 1 %}
            <label class="md-nav__list-title">
                Interfaces, classes and traits
            </label>
        {% endif %}
        <ul class="md-nav__list">
            {% if entry.interfaces.count > 0 %}
                {% for element in entry.interfaces|sort_asc %}
                    {% include 'components/menu-entry.html.twig' with {
                        title: element.name|shortFQSEN,
                        nav_id: depth ~ '-' ~ index,
                        entry: element,
                        expanded: false,
                        icon: 'file.svg',
                    } %}

                    {% set index = index + 1 %}
                {% endfor %}
            {% endif %}
            {% if entry.classes.count > 0 %}
                {% for element in entry.classes|sort_asc %}
                    {% include 'components/menu-entry.html.twig' with {
                        title: element.name|shortFQSEN,
                        nav_id: depth ~ '-' ~ index,
                        entry: element,
                        expanded: false,
                        icon: 'file.svg',
                    } %}

                    {% set index = index + 1 %}
                {% endfor %}
            {% endif %}
            {% if entry.traits.count > 0 %}
                {% for element in entry.traits|sort_asc %}
                    {% include 'components/menu-entry.html.twig' with {
                        title: element.name|shortFQSEN,
                        nav_id: depth ~ '-' ~ index,
                        entry: element,
                        expanded: false,
                        icon: 'file.svg',
                    } %}

                    {% set index = index + 1 %}
                {% endfor %}
            {% endif %}
        </ul>
    {% endif %}
{% endif %}
