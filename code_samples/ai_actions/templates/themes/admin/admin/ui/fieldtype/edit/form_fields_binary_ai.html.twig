{% extends '@ibexadesign/ui/field_type/edit/ezbinaryfile.html.twig' %}

{% block ezbinaryfile_preview %}
    {{ parent() }}

    {% set transcriptFieldIdentifier = 'transcript' %}
    {% set fieldTypeIdentifiers = form.parent.parent.vars.value|keys %}

    {% if transcriptFieldIdentifier in fieldTypeIdentifiers %}
        {% set module_id = 'TranscribeAudio' %}
        {% set ai_config_id = 'transcribe_audio' %}
        {% set container_selector = '.ibexa-edit-content' %}
        {% set input_selector = '.ibexa-field-edit-preview__action--preview' %}
        {% set output_selector = '#ezplatform_content_forms_content_edit_fieldsData_transcript_value' %}
        {% set cancel_wrapper_selector = '.ibexa-field-edit-preview__media-wrapper' %}

        {% embed '@ibexadesign/connector_ai/ui/ai_module/ai_component.html.twig' with {
            ai_config_id,
            container_selector,
            input_selector,
            output_selector,
        } %}
        {% endembed %}
    {% endif %}
{% endblock %}
